# Сопроводительная документация
## Сервис для автоматизации приёма и выдачи инструментов авиаинженерам

### 1. Введение
Сервис предназначен для автоматизации процесса учёта инструмента инженерно-техническим персоналом (ИТП) при техническом обслуживании воздушных судов.  
Он решает проблему долгого ручного пересчёта и повышает уровень безопасности за счёт минимизации ошибок и потерь инструмента.

**Ключевые термины:**
- **ИТП** — инженерно-технический персонал.
- **ТОиР** — техническое обслуживание и ремонт.
- **Hand out tool** — выдача инструмента.
- **Hand over tool** — приём инструмента.

### 2. Цели и задачи
- Автоматически распознавать инструменты на столе под камерой.
- Сверять набор при выдаче и приёмке.
- Вычислять процент совпадений; при снижении ниже допустимого порога сигнализировать о необходимости ручного пересчёта.
- Предоставлять JSON-отчёт для интеграции с системой ТОиР.

### 3. Требования к сервису
- Использовать открытое ПО (Python, PyTorch, FastAPI, React).
- Методы API документировать через **Swagger UI**.
- Архитектуру описывать в **Archi (ArchiMate)**.
- Обеспечить формирование JSON-файлов с результатами.
- Компоненты оборачивать в Docker.
- Интерфейс: веб-приложение, удобное и интуитивно понятное.

### 4. Архитектура решения
**Компоненты:**
1. **Frontend (React)** — загрузка фото, отображение списка инструментов и совпадений.
2. **Backend (FastAPI)** — эндпоинты `/detect`, `/compare`, `/config`.
3. **CV-сервис (PyTorch/YOLO)** — инференс модели, выдаёт список инструментов.
4. **Хранилище эталонного набора** (JSON или SQLite).

**Взаимодействие:**
- Пользователь загружает фото → фронт отправляет в бэк.
- Бэк проксирует в CV-сервис.
- CV-сервис возвращает JSON с распознанными объектами.
- Бэк сравнивает с эталоном/выданным набором.
- Результат отображается на фронте.

### 5. Алгоритм работы
1. Инженер получает или сдаёт комплект инструмента.
2. Камера фиксирует фото комплекта.
3. CV-сервис распознаёт инструменты (класс, вероятность, bbox).
4. Backend сверяет список с эталоном.
5. Возвращается процент совпадений, список недостающих и лишних.
6. Интерфейс отображает результат, при необходимости выводит предупреждение.

### 6. Данные
Источник: 2000 фотографий, 11 инструментов:  
отвёртки (3 вида), коловорот, пассатижи (2 вида), шэрница, разводной ключ, открывашка, рожковый/накидной ключ, бокорезы.

### 7. Пользовательский путь
1. Получение задания на ТО.  
2. Запрос инструментов в системе ТОиР.  
3. Выдача комплекта и фиксация через сервис.  
4. Использование инструмента.  
5. Возврат и автоматическая проверка совпадений.  

### 8. Технологический стек
- **CV:** PyTorch, Ultralytics YOLOv8.  
- **Backend:** Python 3.11+, FastAPI, httpx.  
- **Frontend:** React + Vite, Axios.  
- **Инфраструктура:** Docker Compose, Swagger UI, Archi.  

### 9. Минимальные требования к оборудованию
- CPU: Intel i5 / Ryzen 5 и выше.  
- RAM: 8–16 GB.  
- GPU (опционально для ускорения инференса).  

### 10. Возможности масштабирования
- Поддержка новых наборов инструментов.  
- Интеграция с существующими системами ТОиР.  
- Развёртывание в облаке (Kubernetes).  

---

## Приложения
- **Блок-схема архитектуры** (ArchiMate, PNG/PDF).  
- **Презентация** (pptx/pdf).  
- **Swagger UI** (автогенерация в backend).  
